<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="icon" type="image/x-icon" href="/public/img/logo.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap.css"
        rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="/public/styles/User/userGlobal.css">
    <link rel="stylesheet" href="/public/styles/footer.css">
    <link rel="stylesheet" href="/public/styles/User/nav.css">
    <link rel="stylesheet" href="/public/styles/Admin/tickets.css">
    <link rel="stylesheet" href="/public/styles/Admin/ticketTable.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <!-- fontawesome cdn link -->
    <script src="https://kit.fontawesome.com/edd6b66792.js" crossorigin="anonymous"></script>
</head>

<body>
    <%- include("../partials/Admin/adminHeader.ejs") %>
        <main id="show-message">
            <div class="d-flex justify-content-center flex-column">

                <div id="display-success-msg" class="w-80">

                </div>
                <div class="table-desc">

                    <h1 class="text-center">Ticket Management</h1>
                </div>
            </div>
            <section class="card-section">
                <div id="root">
                    <div class="container pt-5">
                        <div class="row align-items-stretch">
                            <div class="c-dashboardInfo col-lg-3 col-md-6">
                                <div class="wrap">
                                    <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">
                                        Total Created ticket <i class="fa-solid fa-rug margin-icon"></i>
                                    </h4><span class="hind-font caption-12 c-dashboardInfo__count">
                                        <%= totalTickets %>
                                    </span>
                                    <span class="hind-font caption-12 c-dashboardInfo__subInfo ">Description:

                                        <span class="text-success">
                                            Total Number of tickets present in the system
                                        </span>

                                    </span>
                                    <!-- <span class="hind-font caption-12 c-dashboardInfo__subInfo">Last month:
                                        +30</span> -->

                                </div>
                            </div>
                            <div class="c-dashboardInfo col-lg-3 col-md-6">
                                <div class="wrap">
                                    <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">
                                        Tickets Assigned To Depts.
                                        <i class="fa-solid fa-people-roof margin-icon"></i>
                                    </h4><span class="hind-font caption-12 c-dashboardInfo__count ">
                                        <%= deptTicketCount %>
                                    </span>
                                    <span class="hind-font caption-12 c-dashboardInfo__subInfo ">Description:

                                        <span class="text-success">
                                            Number of tickets assigned to active Departments
                                        </span>

                                    </span>

                                </div>
                            </div>
                            <div class="c-dashboardInfo col-lg-3 col-md-6">
                                <div class="wrap">
                                    <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">
                                        Tickets Assigned To Agents
                                        <i class="fa-solid fa-building-user  margin-icon"></i>

                                    </h4><span class="hind-font caption-12 c-dashboardInfo__count">
                                        <%= agentTicketCount %>
                                    </span>
                                    <span class="hind-font caption-12 c-dashboardInfo__subInfo">Description:
                                        <span class="text-success">
                                            Number of tickets assigned to active agents
                                        </span>


                                    </span>

                                </div>
                            </div>
                            <div class="c-dashboardInfo col-lg-3 col-md-6">
                                <div class="wrap">
                                    <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">
                                        Unassigned Tickets <i class="fa-solid fa-rug margin-icon"></i></h4><span
                                        class="hind-font caption-12 c-dashboardInfo__count">
                                        <%= unassignedTickets %>
                                    </span>
                                    <span class="hind-font caption-12 c-dashboardInfo__subInfo">Description:

                                        <span class="text-success">
                                            Number of Unassigned tickets in the system
                                        </span>
                                    </span>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <div class="filter-users-cont">
                <div class="filterHeader">

                    <%- include("../partials/messages.ejs") %>

                        <h5 style="font-weight: 600; margin-bottom: 20px;">Filter Tickets</h5>
                </div>

                <!-- <h4>select the individual input, if you want to be more specific  -->
                <div class="filter-users">
                    <form class="filter-form" id="filterForm" action="/admin/filter/tickets" method="post">
                        <!-- <div>
                            <label for="email">By Email</label>
                            <input type="email" id="email" name="email" class="txt_field">
                            <input type="radio" name="filter" id="forEmail">
                        </div> -->

                        <div>
                            <label for="role">Filter By: </label>
                            <select name="selectedOption" class="select_field" id="selectedOption">
                                <div class="options">

                                    <option value="all">All</option>
                                    <option value="urgency">Urgency</option>
                                    <option value="priority">Priority</option>
                                    <option value="status">Status</option>
                                    <option value="dept">Department</option>
                                    <option value="customer">Customer Email</option>
                                    <option value="assignee">Assignee Email</option>
                                </div>
                            </select>
                            <!-- <input type="radio" name="filter" id="forUserType"> -->
                        </div>
                        <div>
                            <label for="input">Enter Input:</label>
                            <input type="text" id="input" name="inputValue" class="txt_field">
                            <!-- <input type="radio" name="filter" id="forLocation"> -->
                        </div>
                        <div class="filter-btn">
                            <!-- <div> -->

                            <button class="search_button" id="filterBtn"><i class="fa-brands fa-searchengin"></i>
                                <span>Filter</span></button>
                            <!-- </div> -->
                        </div>
                    </form>
                </div>
            </div>
            <h1 class="h1_tickets">Tickets</h1><br>
            <!-- TODO: add a scroll base to table display -->
            <%- include("../partials/Admin/ticketsTable.ejs")%>




        </main>
        <%- include("../partials/footer.ejs")%>
            <script src="/public/script/Admin/ticket.js"></script>
            <script src="/public/script/Admin/hanburger.js"></script>
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
                integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
                integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
                crossorigin="anonymous"></script>
</body>

</html>